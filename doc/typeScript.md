# Домашнее задание | TypeScript
### Переписать на TypeScript код следующих домашних заданий:
- ДЗ «Адаптивная вёрстка»
- ДЗ «Работа с сенсорным пользовательским вводом»
- ДЗ «Мультимедиа»
- ДЗ «Node js»

**Приложение должно остаться работоспособным!**

**Важно: Добавьте информацию для проверяющих о том как запустить компиляцию и сам проект, добавьте короткие команды в npm scripts**

>По завершении проверки домашнего задания на ваше усмотрение останется выбор: вливать данный PR и дальше работать с TypeScript или не вливать и продолжать работать с JavaScript. В отчёте нужно мотивировать ваш выбор.

### Преимуществом будет:
- отсутствие явных и неявных типов any
- компиляция в строгом режиме (`"strict": true` в `tsconfig.json`)
- отсутствие `// @ts-ignore`, использования оператора ! для подавления ошибок строгих проверок на null
- минимальное использование type assertions, как например someVar as SomeType
- использование `tslint`

Для Node.JS допустимо как компилировать код в` *.js,` так и запускать из под `ts-node`.

Для клиентских приложений можете выбрать любой способ компиляции:
- Если не используете инструменты сборки, то компилируйте в единственный файл, который подключите на страницу (как в примере c миграцией проекта)
- Если используете `webpack`, подключите `ts-loader` или `awesome-typescript-loader`
- Если используете `gulp`, используйте пакет `gulp-typescript`

### В отчёте отразить
- трудоёмкость перевода проекта на TypeScript. Самые сложные моменты в работе.
- Какие в процессе перевода были найдены ошибки.
- Решили ли вы вливать данный PR, или предпочитаете работать с JavaScript? Почему?


## Отчет по домашней работе
### Переписан на TypeScript код следующих домашних заданий:
- [x] ДЗ «Адаптивная вёрстка»
- [x] ДЗ «Работа с сенсорным пользовательским вводом»
- [x] ДЗ «Мультимедиа»
- [x] ДЗ «Node js»

### Запуск
1. Клонировать репозиторий

```
git clone https://github.com/MoonW1nd/crispy-engine.git
```

2. Переключится на ветку typescript-homework

```
git checkout typescript-homework
```

3. Установить зависимости

```
npm install
```

4. Запуск dev-сервера и сборки front-end
```
npm start
```

5. Запуск сервера node.js
```
npm run-script start-server
```

6. Скомпилировать ts файлы node.js сервера
```
npm run-script start-tsc-build
```

7. Запуск watch режима для ts файлов сервера
```
npm run-script start-tsc-watch
```

Если захочется протестировать работоспособность задания с Мультимедиа, нужно дополнительно запустить сервер отдающий потоки видео: [Инструкция](https://github.com/MoonW1nd/crispy-engine/blob/master/doc/Multimedia.md#%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0-%D1%80%D0%B0%D0%B7%D0%B4%D0%B0%D1%87%D0%B8-%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE-%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B0)


### Дополнительно:
- [x] отсутствие явных и неявных типов any
    > везде где это заметил избавился от `any`, компилятор в строгом режиме так же не находит ошибок
- [x] компиляция в строгом режиме (`"strict": true` в `tsconfig.json`)
- [x] отсутствие `// @ts-ignore`, использования оператора ! для подавления ошибок строгих проверок на null
- [x] минимальное использование type assertions, как например someVar as SomeType
- [x] использование `tslint` (настроил на прекоммит хук)

Для Node.JS TS компилируется в` *.js`.
Для клиентских приложений используется `gulp` с `gulp-typescript`

### Трудоемкость перевода проекта на TypeScript

Сам перевод проекта на Tepescript занимает не так много времени, если нет каких-то узких проблем, так как это мой 2 или 3-ий когда я писал на TypeScript, то столкнулся с некоторыми сложностями:
- достаточно не очевидно было что если проверять на `null` в цикле, все ключи объекта то TypeScript не может это нормально обработать;
- столкнулся с проблемой невозможности нормальной типизации внешних зависимостей в формате UMD. Подробнее можно почитать [тут](https://github.com/Microsoft/TypeScript/issues/10178)
- сложно(как новичку в TypeScript) разруливать коллизии типов например: метод `require()` в `RequireJS` и `Node.js`

### Какие в процессе перевода были найдены ошибки.
 - ошибки возможного `null` и не явного приведения типов (очень крутая штука!)
 - ошибки написания не структурированного кода в классах

### Решили ли вы вливать данный PR, или предпочитаете работать с JavaScript? Почему?

Решил, что буду вливать данный PR в мастер, так как хочу еще попрактиковаться в написании кода TypeScript, к тому же он получается более отказоустойчивым и более крутая поддержка статического анализа кода со стороны редакторов, очень подкупает.
